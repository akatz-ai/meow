# Simple Hello World Test Workflow
# Tests basic MEOW functionality: spawn agent, execute task, cleanup
#
# Usage:
#   meow run .meow/templates/hello-test.meow.toml --var agent=test-agent

[main]
name = "hello-test"
description = "Simple test workflow to verify MEOW functionality"

[main.variables]
agent = { required = true, description = "Agent ID to spawn" }

# Step 1: Start the agent in tmux
[[main.steps]]
id = "start-agent"
executor = "spawn"
description = "Start test agent"
agent = "{{agent}}"

# Step 2: Simple task for the agent
[[main.steps]]
id = "hello-task"
executor = "agent"
description = "Say hello world"
agent = "{{agent}}"
needs = ["start-agent"]
prompt = """
## Hello World Test

Your task is simple: confirm you're running by saying "Hello World!"

When done, signal completion:
  meow done
"""

# Step 3: Shell step to verify something worked
[[main.steps]]
id = "verify"
executor = "shell"
description = "Verify test completed"
needs = ["hello-task"]
command = """
echo "Test workflow completed successfully!"
echo "Timestamp: $(date)"
"""
