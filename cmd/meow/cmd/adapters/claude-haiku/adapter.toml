# Claude Code CLI adapter for MEOW (Haiku model)

[adapter]
name = "claude-haiku"
description = "Claude Code CLI agent with Haiku model"

[spawn]
# Command to start Claude Code with Haiku model
command = "claude --dangerously-skip-permissions --model haiku"
# Command to resume an existing session (uses {{session_id}} placeholder)
resume_command = "claude --dangerously-skip-permissions --model haiku --resume {{session_id}}"
# Time to wait for Claude to fully start up before sending prompts
startup_delay = "3s"

[environment]
# Prevent Claude from detecting it's in an outer tmux session
TMUX = ""

[prompt_injection]
# Stabilization sequence for subsequent prompts (after first prompt).
# This ensures Claude is fully idle before injecting the next prompt.
pre_stabilize_delay = "3s"
stabilize_sequence = [
    { key = "Escape", delay = "2s" }
]

# Standard injection (after stabilization completes)
pre_keys = []
pre_delay = "0s"
# How to send the prompt text:
# - "literal": tmux send-keys -l (handles special chars and newlines)
# - "keys": tmux send-keys without -l (interprets key names)
method = "literal"
# Keys to send after the prompt to submit it
post_keys = ["Enter"]
# Time to wait between sending prompt and sending post_keys
post_delay = "500ms"

[graceful_stop]
# Keys to send to initiate graceful shutdown
keys = ["C-c"]
# Time to wait for graceful shutdown before force killing
wait = "2s"
