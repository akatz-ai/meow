# Simple MEOW Workflow Template
# A minimal example showing the module format.
#
# Usage:
#   meow run simple --var task_name="My Task"
#
# The workflow creates two steps:
#   1. do-work - The main task
#   2. verify  - Verification step (depends on do-work)

[main]
name = "simple-workflow"
description = "A simple two-step workflow"

[main.variables]
task_name = { default = "Example Task", description = "Name of the task to perform" }
agent = { default = "worker", description = "Agent to assign work to" }

[[main.steps]]
id = "start-agent"
executor = "spawn"
agent = "{{agent}}"

[[main.steps]]
id = "do-work"
executor = "agent"
agent = "{{agent}}"
needs = ["start-agent"]
prompt = """
# Task: {{task_name}}

Complete the task: {{task_name}}

When done, run:
```
meow done
```
"""

[[main.steps]]
id = "verify"
executor = "agent"
agent = "{{agent}}"
needs = ["do-work"]
prompt = """
# Verify: {{task_name}}

Verify that {{task_name}} was completed correctly.

Check:
- [ ] Work is complete
- [ ] No errors or issues
- [ ] Ready for next steps

When verified, run:
```
meow done
```
"""

[[main.steps]]
id = "stop-agent"
executor = "kill"
agent = "{{agent}}"
needs = ["verify"]
